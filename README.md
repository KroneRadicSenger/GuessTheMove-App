# Chess Guess The Move Flutter App
This is our Flutter App for our Chess Guess The Move App created as part of our Bachelor Forschungsprojekt INF at University of Stuttgart.

## Screenshots
<h3>Menü</h3>
<details>
  <summary>Click here to show screenshots!</summary>
   
   <p float="left">
      <img src="https://user-images.githubusercontent.com/44426503/125246293-e8766100-e2f1-11eb-9183-0be1f303dd00.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125246368-faf09a80-e2f1-11eb-8646-9a47a55a716d.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125246376-fd52f480-e2f1-11eb-9f15-cba77319f256.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125251066-3346a780-e2f7-11eb-90d1-41ccce10010c.png" width="170px"/>

   </p>
</details>
<h3>Hauptspielmodus</h3>
<details>
  <summary>Click here to show screenshots!</summary>
   
   <p float="left">
      <img src="https://user-images.githubusercontent.com/44426503/125248280-2c6a6580-e2f4-11eb-9271-26ad61cce490.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248295-2ffdec80-e2f4-11eb-8e4e-9d180f37b52d.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248312-342a0a00-e2f4-11eb-9691-55ea097daf9f.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248322-368c6400-e2f4-11eb-9f55-3a46d46f87a7.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247022-c92c0380-e2f2-11eb-9295-db495d50beb0.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247031-cb8e5d80-e2f2-11eb-9aca-46cc32a55fa1.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247044-cdf0b780-e2f2-11eb-828e-05e8ef77e224.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247484-4b1c2c80-e2f3-11eb-851b-b83583f153b7.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247051-cfba7b00-e2f2-11eb-9775-e2f6c556d4e4.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250615-c03d3100-e2f6-11eb-9afd-a7288e59dba2.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250925-101bf800-e2f7-11eb-910b-518a58dcb442.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250928-114d2500-e2f7-11eb-9c01-5d944a4ece93.png" width="170px"/>
   </p>
</details>
<h3>Zeitdruckmodus</h3>
<details>
  <summary>Click here to show screenshots!</summary>
   
   <p float="left">
      <img src="https://user-images.githubusercontent.com/44426503/125248650-971ba100-e2f4-11eb-8e40-fae4bdc2b1e5.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248668-9aaf2800-e2f4-11eb-9912-e5a01c917931.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248679-9daa1880-e2f4-11eb-99b3-df15dc722b6b.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248682-a00c7280-e2f4-11eb-9024-5eeaa0e806e8.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125252233-69d0f200-e2f8-11eb-89ed-4012bf27e2a0.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125252238-6b021f00-e2f8-11eb-98b4-10d4bddbb8ab.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247679-8159ac00-e2f3-11eb-9756-92b59165235a.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125249194-3a6cb600-e2f5-11eb-9bc0-600199f19bad.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125249229-48223b80-e2f5-11eb-88d6-2ce385e6fcba.png" width="170px"/>
   </p>
</details>
<h3>Überlebensmodus</h3>
<details>
  <summary>Click here to show screenshots!</summary>
   
   <p float="left">
      <img src="https://user-images.githubusercontent.com/44426503/125248943-faa5ce80-e2f4-11eb-8204-155b45d9607e.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248956-fd082880-e2f4-11eb-85c2-e90aaff3799e.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248962-ff6a8280-e2f4-11eb-9850-17c006e8eb32.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125248973-01344600-e2f5-11eb-9fdd-f7811d6a8fc2.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125252364-9258ec00-e2f8-11eb-9beb-6d53588ff64e.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125247675-7f8fe880-e2f3-11eb-84fc-9cb98779481d.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125249865-f5954f00-e2f5-11eb-80ce-4995edf6c57b.png" width="170px"/>
   </p>
</details>
<h3>Puzzlemodus</h3>
<details>
  <summary>Click here to show screenshots!</summary>
   
   <p float="left">
      <img src="https://user-images.githubusercontent.com/44426503/125247771-9a625d00-e2f3-11eb-850c-6852a0716f18.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250047-1fe70c80-e2f6-11eb-8d8a-fbe695f0fc82.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250063-22496680-e2f6-11eb-9c18-50fb2796c110.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250076-24abc080-e2f6-11eb-9c0d-ad1b6ba56184.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250484-97b53700-e2f6-11eb-8823-d2ccafc76c29.png" width="170px"/>
      <img src="https://user-images.githubusercontent.com/44426503/125250492-9a179100-e2f6-11eb-81e2-530480860d07.png" width="170px"/>
   </p>
</details>

## Creating an analyzed games bundle
Follow the instructions in the ```README.md``` file of the ```Python Game Preprocessing``` program to create a gzipped annotated analysis output file
from a pgn file containing multiple games. To use this gzipped file as an analyzed games bundle, you should copy it to the ```assets/analyzed_games``` directory of this app
and rename it to match the following format:
1. For an analyzed games bundle by grandmaster and year:
```<LAST_NAME>, <FIRST_NAME>_<YEAR>_compressed``` (especially note the space after the comma)

Your files should look like this:

<img width="336" alt="Bildschirmfoto 2021-07-12 um 08 40 07" src="https://user-images.githubusercontent.com/44426503/125242318-d1814000-e2ec-11eb-9723-2fc5eec6ddea.png">

After you have done this, continue with the next section to regenerate the meta file for the app.

## (Re-) Generate meta file for analyzed games bundles and grandmasters
The app uses a generated meta file to get information about which analyzed games bundles and grandmasters
we have included in the bundles given in the ```assets/analyzed_games``` directory. Whenever we add, remove
or change a bundle, we must regenerate this meta file so that the app knows about the changes.
To (re-) generate this meta file, you should use the following command
```dart bin/generate_meta.dart```

Example output:

<img width="790" alt="Bildschirmfoto 2021-07-12 um 08 39 06" src="https://user-images.githubusercontent.com/44426503/125243105-ec07e900-e2ed-11eb-9f92-cf07f6dc03d4.png">

```json
{
   "grandmasters":[
      {
         "fullName":"Kasparov, Garry",
         "latestEloRating":"2812"
      },
      {
         "fullName":"Fischer, Bobby",
         "latestEloRating":"2560"
      },
      {
         "fullName":"Carlsen, Magnus",
         "latestEloRating":"2862"
      }
   ],
   "analyzedGamesBundles":[
      {
         "type":"byGrandmasterAndYear",
         "grandmaster":{
            "fullName":"Kasparov, Garry",
            "latestEloRating":"-"
         },
         "year":2016
      },
      {
         "type":"byGrandmasterAndYear",
         "grandmaster":{
            "fullName":"Fischer, Bobby",
            "latestEloRating":"-"
         },
         "year":1992
      },
      {
         "type":"byGrandmasterAndYear",
         "grandmaster":{
            "fullName":"Carlsen, Magnus",
            "latestEloRating":"-"
         },
         "year":2020
      },
      {
         "type":"byGrandmasterAndYear",
         "grandmaster":{
            "fullName":"Carlsen, Magnus",
            "latestEloRating":"-"
         },
         "year":2001
      },
      {
         "type":"byGrandmasterAndYear",
         "grandmaster":{
            "fullName":"Kasparov, Garry",
            "latestEloRating":"-"
         },
         "year":2017
      }
   ],
   "gamesAmountByAnalyzedGamesBundleId":{
      "byGrandmasterAndYear_Kasparov, Garry_2016":23,
      "byGrandmasterAndYear_Fischer, Bobby_1992":11,
      "byGrandmasterAndYear_Carlsen, Magnus_2020":269,
      "byGrandmasterAndYear_Carlsen, Magnus_2001":13,
      "byGrandmasterAndYear_Kasparov, Garry_2017":5
   }
}
```

## Regenerate usage of open source software file
To regenerate the file containing all used open source software (at least the software directly used by the app), you can run the following command
```flutter pub run flutter_oss_licenses:generate.dart```

The generated file should look like this:

<img width="767" alt="Bildschirmfoto 2021-07-12 um 08 43 36" src="https://user-images.githubusercontent.com/44426503/125242669-4c4a5b00-e2ed-11eb-9260-4736e83be79d.png">

## Execute all tests
To execute all tests (BLOC tests and DAO tests) implemented, you should run the following command
```flutter test```

<img width="981" alt="Bildschirmfoto 2021-07-12 um 08 44 50" src="https://user-images.githubusercontent.com/44426503/125242991-be22a480-e2ed-11eb-994e-3741e985c9b5.png">

## Execute debug version of the app
To execute a debug version of this app, simply run the following command
```flutter run```
To make the live analysis work, make sure that a local live analysis server is running. See the
README file of the Python preprocessing program for more information on how to run a local live
analysis server.

## Execute release version of the app
To execute a release version of this app that uses our deployed live analysis server, run the following command
```flutter run --release```
and select a device to run on.

## License
This project is licensed under the 3-Clause BSD License. You can find the full license text in the
```LICENSE.md``` file.
